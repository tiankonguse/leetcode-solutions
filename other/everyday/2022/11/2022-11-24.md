# 2022-11-24 每日一题


题目: 795. 区间子数组个数  
题意: 给一个数组，求子数组最大值在区间`[L,R]`范围内的个数。  


思路1：子数组的左边界固定后，右边界最小是第一个满足`[L,R]`内的值，最大是第一个大于R的上一个位置，最小右边界和最大右边界之间都是合法的右边界。  
所以可以预处理出每个位置右边第一个满足`[L,R]`的位置和第一个大于`R`值的位置，累计计算出答案即可。  
当然，也可以假设右边界固定，这样就可以求出两个左边界，边扫面边计算答案了。  


思路2：大于 R 的位置肯定不会有答案子数组覆盖，这样就将数组分割为若干块。  
每一块里面所有子数组个数减去不满足要求的，就是答案。  
不满足要求的子数组计算方式：所有最大值小于 L 的子数组。  


思考题：假设最小值也有也够区间限制，该如何做呢？    



昨日思考题：假设区间大小为 `10^18`，该如何做这道题。   
提示：数位DP，先求出 `[0,L-1]`各数字和的个数，再求出`[0,R]`个数字和的个数，相减后求最大值即可。  


代码: [/problemset-new/007/00795-number-of-subarrays-with-bounded-maximum](/problemset-new/007/00795-number-of-subarrays-with-bounded-maximum)  

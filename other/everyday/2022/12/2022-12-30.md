# 2022-12-30 每日一题


题目: 855. 考场就座  
难度： 中等    
题意: 有一排座位，同学们随机的进入考场选座位或者离开考场，问进入考场时按照规则会选哪个座位。  
规则：每次选择的座位应该离两边的同学尽量的远，如果有多个，选择座位编号最小的座位。     


思路：对于每个空座位区间，肯定是选择中间的座位（两边的除外，需特殊判断）。  
所以可以维护一个空闲座位区间数据结构`map<dis, set<pair<int, int>>>`。  
入座：每次可以从中选择出距离中位数最大的区间列表(map最后一个)，然后从区间列表选择做靠左的区间即可(set第一个)。  
离开：判断左右是否也是空闲座位，是了合并区间，更新数据结构。  
左右区间判断：维护一个双向的hash表，从而可以快速根据左区间找到右区间，也可以根据右区间找到左区间。  

复杂度：`O(n log(n))`  



